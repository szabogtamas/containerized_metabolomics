---
title: "Metabolomic analysis powered by MetaboAnalyst, made flexible"
output: 
  html_document:
    code_folding: hide
    toc: true
    toc_float:
      toc_collapsed: true
---

```{r}
# Source scripts that bundle MetaboAnalyst functions

source("../scripts/data_norm.r", chdir=TRUE)
```

```{r}
# Parse test input

test_data_file <- "~/git_repo/data_examples/test.tsv"
metabo_data <-standardize_metabo_data(test_data_file)

head(metabo_data)
```

```{r}
# Convert input to an mSet object

mSet <- convert_cc_to_mSet(metabo_data)
```

```{r}
# Normalize input data

mSet <- normalize_mSet(mSet)
```

```{r}
# Save normalization report

mSet <- PlotSampleNormSummary(mSet, "sampleNorm", "png")
```

```{r}
# Calculate basic descriptive statistics

stat_results <- metabo_desc_stat(metabo_data)

head(stat_results$data)
```

```{r}
# Show a volcano plot of the results

stat_results$plot
```